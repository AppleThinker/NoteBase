# cocos2-x自动释放内存池

**1.所有参与内存管理的类都继承一个Ref类**。

**2.Ref类中含有一个引用计数，对象创建时默认为1，含有一个autoRelease接口将调用对象加入内存释放池，含有一个retain接口，每次调用引用计数+1，含有一个release接口，每次调用引用计数-1。**

**3.create对象时，调用autoRlease接口。**

**4.每帧结束，自动释放内存池（一个类）会调用一次release，当有对象引用计数为0，释放对应空间，然后clear容器。**

**5.想主动持有某个对象时，要主动调用retain，调用几次retain就要调用几次release，创建对象并不立刻使用后面再用的情况。**

## 

