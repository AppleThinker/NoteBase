一.合图：（1.减少内存	2.减少draw call）

二.图片格式：选取4444+图像抖动，Allow  free sizes

png：在安卓平台，会有短暂的内存暴增两倍

pvr：苹果系列设备显卡对pvr格式有加速处理

jpg：不支持透明通道，先转化为png，短暂内存暴增3倍


图片占用内存计算：一个字节8位，1k=1024字节

一张1024*1024的RGNA8888的图片占用内存：

1024像素*1024像素*4字节/1024k/1024m=4m

三.加载图片资源

1.同一帧加载所有图片内存可能暴增超过峰值最好一帧一帧加载图片

2.先加载大图片，再加载小图片资源

3.对图片进行分类，释放不需要的内存

​	(1)资源释放顺序

​		a.动画资源

​		b.精灵帧

​		c.纹理资源

​	（2）资源释放的实际

​		A场景切换到B场景 在A场景的onExitTransitionDidStart内调用以下三个函数

​		//virtual void onEnter(); 

​		//virtual void onEnterTransitionDidFinish();

​		//virtual void onExit();

​		//virtual void onExitTransitionDidStart();

四.TinyPng（在线压缩工具）：不能减少内存，但是可以减小包体大小。

五.粒子效果：适当使用（省内存耗CPU,粒子数越少越好）

六.骨骼动画：省内存耗CPU,对美术的要求比较高，工具：spine，Dragon

七.九宫格放大图片：图片放大时，切成九宫格，中间放大，上下横拉伸，左右纵拉伸，边角不变。放大时边线就不会出现锯齿状。

八.内存池：一个内存池的类管理所有内存

九.对象池：有重复利用的对象，可以将它的父亲节点隐藏掉，把它放进对象池，需要使用的时候，拿出一些暂时闲置的对象重新把数据初始化再使用，一般运用到频繁创建跟删除的场景，new和delete是有损耗的。（例如子弹）

十.代码层面：释放该释放的，防止内存泄露，算法性能优化

十一.音频：使用适当的工具处理

​	（1）立体声道变单声道

​	（2）MP3格式

​	（3）采样率越低，声音文件越小，声音的质量越低，44kHz达到CD音质，48kHz更高

十二.CPU

​		降低drawcall（CPU向GPU提交一次渲染请求就是一次drawcall）：尽量多的图片合成一个批次

十三.批处理条件：

​	（1）合批的图片必须在同一张纹理里面（同一纹理，同一合图）

​	（2）合批的节点在渲染顺序上相邻（同一个父节点）防止drawcall被打断

​	（3）改变渲染状态会打断渲染合批，例如改变纹理状态（预乘、循环模式和过滤模式）或改变 Material（材质）、Blend（混合模式）等等，所以使用自定义 Shader 也会打断合批。

十四.draw call 防止被打断：（draw call 被打断：abcdef中C不在同一纹理，需要draw call 3次）将同一纹理放在一起，防止被打断

十五.字体：系统字体，一个字一个draw call，慎用系统字体，一般使用bmpfont，如果是系统字体尽量减少刷新次数

十六.物理引擎：能不用物理引擎就不用物理引擎